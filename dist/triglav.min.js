class triglav{constructor(t,o,e,i,r,s){let l={dotColor:"#FFF",lineColor:"#FFF",blinkColor:"#F00",radius:10,"stroke-width":3};if(void 0===s&&(s=l),null==i)return;Object.keys(l).forEach(function(t){let o=s[t];s[t]=void 0!==o?o:l[t]}),void 0===triglav.prototype.timelines&&(triglav.prototype.timelines=[]),triglav.prototype.timelines.push(this),this.divId=t,this.largura=o,this.altura=e,this.data=i,this.options=s,this.dotAlertsEvents=[],this.dots=[],this.dotColor=s.dotColor,this.radius=s.radius,this.callback=r;let a=null;if("object"==typeof process&&process+""=="[object process]"){a=require("raphael")(0,0,10,10)}else a=Raphael(t);a.setViewBox(0,0,o,e,!0),this.paper=a;let n=document.querySelector("svg");n.removeAttribute("width"),n.removeAttribute("height"),this.calc(this.data)}calc(t){let o=(this.largura-300)/(t.length-1),e=150,i=[],r=this.altura/2;t.sort(function(t,o){return t.order-o.order});let s=this;for(let l=0;l<t.length;l++){i[l]=e;let a=this.paper.circle(e,r,this.radius).attr({fill:this.dotColor}).data("id",t[l].id).click(function(){s.callback(this.data("id"))});this.dots.push(a),this.paper.text(e,r+20,t[l].name),e+=o}for(let s=0;s<t.length-1;s++){let t,l;t=i[s]+this.radius,l=i[s+1]-this.radius;this.paper.path("M"+t+" "+r+"L"+l+" "+r).attr({fill:this.options.lineColor,stroke:this.options.lineColor,"stroke-width":this.options["stroke-width"]});e+=o}}getDot(t){return this.dots.find(function(o){if(o.data("id")==t)return o})}setColor(t,o){let e=this.getDot(t);void 0!==e&&e.attr({fill:o})}alertDot(t){let o=this,e=o.getDot(t);void 0!==e?void 0===this.dotAlertsEvents[t]&&(this.dotAlertsEvents[t]=setInterval(function(){let t=e.attrs.fill;t=t==o.dotColor?o.options.blinkColor:o.dotColor,e.attr({fill:t})},500)):console.error("Nao encontrado.")}stopAlertDot(t){clearInterval(this.dotAlertsEvents[t]),this.getDot(t).attr({fill:this.dotColor}),this.dotAlertsEvents[t]=void 0}static setDotColor(t,o,e){let i=triglav.prototype.timelines.find(function(o){if(o.divId==t)return o});void 0!==i&&i.setColor(o,e)}static alertDot(t,o){let e=triglav.prototype.timelines.find(function(o){if(o.divId==t)return o});void 0!==e&&e.alertDot(o)}static alertDotStop(t,o){let e=triglav.prototype.timelines.find(function(o){if(o.divId==t)return o});void 0!==e&&e.stopAlertDot(o)}static generateUUID(){let t=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){let e=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===o?e:3&e|8).toString(16)})}}"object"==typeof process&&process+""=="[object process]"&&(module.exports=triglav);
